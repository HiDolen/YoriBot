## 一些数值的意义

群权限，

| 值          | 意义                                                              |
| ----------- | ----------------------------------------------------------------- |
| -1（默认）  | 若 bot 程序在线，加入群后 bot 会立即自动退群。除此之外与 0 无区别 |
| 0           | bot 会主动关闭所有功能                                            |
| 1           | bot 开启超级管理员设定的功能。群管理不能修改插件的开关情况        |
| 2（群认证） | 允许群管理员自由开关超级管理员设定的特权插件                      |
| 3           | 允许群管理员开关任意插件                                          |
| 4           | 允许任何人开关任意插件                                            |

## 插件信息设置

基本格式，

```python
__plugin_meta__ = PluginMetadata(
    name="进群欢迎",
    description=r"新人入群时的欢迎语",
    usage="""
    群欢迎消息
    """,
    type="application",
    supported_adapters={"~onebot.v11"},
    extra={
        "default_status": True,
        "force_to_operate": False,
    }
)
```

基础，

| 键             | 值意义                                                        |
| -------------- | ------------------------------------------------------------- |
| name           | 将作为 `plugin_name` 存储在数据库。决定了插件向用户的显示名称 |
| description    | 插件的说明文字                                                |
| usage          | 插件的使用方法                                                |
| type(TODO)     | 插件的分类                                                    |
| default_status | 新入群时，初始化的插件状态。bool 类型。默认为 True            |

其他，

| 变量名               | 意义                           |
| -------------------- | ------------------------------ |
| __force_to_operate__ | 无视群权限的限制，强制执行插件 |

## 杂项

### 插件信息

- `plugin_name` 是插件设定的显示名称，在 `__plugin_meta__` 中的 `name` 设置
- `plugin` 由插件文件命名决定，是独一无二的插件标识

### 插件管理

插件可以在信息设置中配置默认状态。新入群时，会根据设置的默认状态开启或关闭插件。

群管理开关群插件的权限，与群权限、插件的默认开关状态、特权插件的设置有关：

- 群权限小于等于 1，不允许群管理开关群插件。仅超级管理员可以开关群插件
- 群权限为 2，群管理仅可自由开关群的特权插件。特权插件需要超级管理员针对各个群设置
  - 也就是说，群管理也没有关闭特权插件之外的插件的权限
- 群权限为 3，允许群管理开关任意插件
- 群权限为 4，允许任何人开关任意插件

### 插件帮助

TODO 插件帮助插件。

TODO 超级用户插件是单独的帮助页面。通过插件信息中的分类进行分辨。

### 文件结构

- `basic_plugins` 存放 yoribot 运行所需的必要插件，`plugins` 存放预置插件
- `data` 存放插件运行产生的数据
- temp 资源位于 `resources/temp`
- 用户自定义插件推荐放在 `plugins_extensive`

## TODO

- 使用 `bot.send_group_msg` 实现定时发送，使用 `@Bot.on_calling_api` 实现定时发送的阻断
